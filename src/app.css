@import 'tailwindcss';
@plugin '@tailwindcss/forms';

@variant dark (.dark &);

@theme {
  /* Surfaces */
  --color-surface: oklch(100% 0 0);
  --color-surface-alt: oklch(98% 0.004 260);
  --color-surface-elevated: oklch(100% 0 0);
  --color-surface-active: oklch(93% 0.045 255);
  --color-surface-hover: oklch(97% 0.02 255);
  --color-surface-user: oklch(92% 0.008 260);

  /* Borders */
  --color-edge: oklch(85% 0.01 260);
  --color-edge-muted: oklch(91% 0.006 260);

  /* Foreground (text) */
  --color-fg: oklch(13% 0.025 260);
  --color-fg-muted: oklch(45% 0.015 260);
  --color-fg-faint: oklch(65% 0.012 260);

  /* Accents */
  --color-accent: oklch(52% 0.2 260);
  --color-accent-muted: oklch(60% 0.17 260);

  /* Links */
  --color-link: oklch(52% 0.2 260);
  --color-link-hover: oklch(45% 0.22 260);

  /* Code */
  --color-code-bg: oklch(93% 0.01 260);
  --color-code-block-bg: oklch(98.5% 0.004 260);

  /* Toggle active state (blue tinted) */
  --color-toggle-active: oklch(88% 0.07 255);
  --color-toggle-active-hover: oklch(82% 0.1 255);
  --color-toggle-active-border: oklch(78% 0.12 255);
  --color-toggle-active-fg: oklch(13% 0.025 260);

  /* Button primary (Send) */
  --color-btn-primary: oklch(52% 0.2 260);
  --color-btn-primary-hover: oklch(45% 0.22 260);
  --color-btn-disabled: oklch(68% 0.012 260);

  /* Danger/error */
  --color-danger: oklch(55% 0.22 25);
}

@layer theme {
  .dark {
    --color-surface: oklch(14% 0.01 260);
    --color-surface-alt: oklch(20% 0.012 260);
    --color-surface-elevated: oklch(17% 0.01 260);
    --color-surface-active: oklch(32% 0.025 260);
    --color-surface-hover: oklch(28% 0.02 260);
    --color-surface-user: oklch(30% 0.015 260);

    --color-edge: oklch(33% 0.015 260);
    --color-edge-muted: oklch(22% 0.01 260);

    --color-fg: oklch(92% 0.008 260);
    --color-fg-muted: oklch(70% 0.012 260);
    --color-fg-faint: oklch(52% 0.015 260);

    --color-accent: oklch(70% 0.15 255);
    --color-accent-muted: oklch(78% 0.12 255);

    --color-link: oklch(78% 0.12 255);
    --color-link-hover: oklch(85% 0.09 255);

    --color-code-bg: oklch(26% 0.015 260);
    --color-code-block-bg: oklch(22% 0.012 260);

    --color-toggle-active: oklch(30% 0.08 255);
    --color-toggle-active-hover: oklch(38% 0.12 255);
    --color-toggle-active-border: oklch(50% 0.18 260);
    --color-toggle-active-fg: oklch(88% 0.07 255);

    --color-btn-primary: oklch(55% 0.2 260);
    --color-btn-primary-hover: oklch(62% 0.18 260);
    --color-btn-disabled: oklch(42% 0.015 260);

    --color-danger: oklch(68% 0.18 25);
  }
}

/* Minimal and elegant styling */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.5;
  overflow: hidden;
  background-color: var(--color-surface);
  color: var(--color-fg);
}

/* Dynamic viewport height for mobile browsers */
:root {
  --vh: 1vh;
}

@supports (height: 100dvh) {
  :root {
    --vh: 1dvh;
  }
}

/* Syntax highlighting theme handled via link tags in app.html */

/* Remove default button styles */
button {
  font-family: inherit;
}

/* Interactive elements should show pointer cursor */
button,
a,
select,
[role='button'] {
  cursor: pointer;
}

button:disabled,
select:disabled {
  cursor: not-allowed;
}

/* Custom scrollbar for webkit browsers */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--color-surface);
}

::-webkit-scrollbar-thumb {
  background: var(--color-edge);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-fg-muted);
}

/* Dark forms: inputs, textareas */
input[type='text'],
input[type='search'],
input[type='email'],
input[type='password'],
textarea {
  background-color: var(--color-surface-elevated);
  color: var(--color-fg);
  border-color: var(--color-edge);
}

input::placeholder,
textarea::placeholder {
  color: var(--color-fg-faint);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 1.5px oklch(70% 0.15 255 / 0.4);
}

select option {
  background-color: var(--color-surface-elevated);
  color: var(--color-fg);
}

@import 'tailwindcss';
@plugin '@tailwindcss/forms';

@variant dark (.dark &);

@theme {
  /* Surfaces */
  --color-surface: #ffffff;
  --color-surface-alt: #f9fafb;
  --color-surface-elevated: #ffffff;
  --color-surface-active: #dbeafe;
  --color-surface-hover: #eff6ff;
  --color-surface-user: #e5e7eb;

  /* Borders */
  --color-edge: #d1d5db;
  --color-edge-muted: #e5e7eb;

  /* Foreground (text) */
  --color-fg: #111827;
  --color-fg-muted: #6b7280;
  --color-fg-faint: #9ca3af;

  /* Accents */
  --color-accent: #2563eb;
  --color-accent-muted: #3b82f6;

  /* Links */
  --color-link: #2563eb;
  --color-link-hover: #1d4ed8;

  /* Code */
  --color-code-bg: #e2e8f0;
  --color-code-block-bg: #f6f8fa;

  /* Toggle active state (blue tinted) */
  --color-toggle-active: #bfdbfe;
  --color-toggle-active-hover: #93c5fd;
  --color-toggle-active-border: #93c5fd;
  --color-toggle-active-fg: #111827;

  /* Button primary (Send) */
  --color-btn-primary: #2563eb;
  --color-btn-primary-hover: #1d4ed8;
  --color-btn-disabled: #9ca3af;

  /* Danger/error */
  --color-danger: #dc2626;
}

@layer theme {
  .dark {
    --color-surface: #18181b;
    --color-surface-alt: #27272a;
    --color-surface-elevated: #1f1f22;
    --color-surface-active: #3f3f46;
    --color-surface-hover: #52525b;
    --color-surface-user: #3f3f46;

    --color-edge: #3f3f46;
    --color-edge-muted: #27272a;

    --color-fg: #e5e7eb;
    --color-fg-muted: #9ca3af;
    --color-fg-faint: #6b7280;

    --color-accent: #60a5fa;
    --color-accent-muted: #93c5fd;

    --color-link: #93c5fd;
    --color-link-hover: #bfdbfe;

    --color-code-bg: #2a2a30;
    --color-code-block-bg: #1f1f22;

    --color-toggle-active: #1e3a5f;
    --color-toggle-active-hover: #1e40af;
    --color-toggle-active-border: #1d4ed8;
    --color-toggle-active-fg: #bfdbfe;

    --color-btn-primary: #2563eb;
    --color-btn-primary-hover: #3b82f6;
    --color-btn-disabled: #4b5563;

    --color-danger: #f87171;
  }
}

/* Minimal and elegant styling */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.5;
  overflow: hidden;
  background-color: var(--color-surface);
  color: var(--color-fg);
}

/* Dynamic viewport height for mobile browsers */
:root {
  --vh: 1vh;
}

@supports (height: 100dvh) {
  :root {
    --vh: 1dvh;
  }
}

/* Syntax highlighting theme handled via link tags in app.html */

/* Remove default button styles */
button {
  font-family: inherit;
}

/* Custom scrollbar for webkit browsers */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--color-surface);
}

::-webkit-scrollbar-thumb {
  background: var(--color-edge);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-fg-muted);
}

/* Dark forms: inputs, textareas */
input[type='text'],
input[type='search'],
input[type='email'],
input[type='password'],
textarea {
  background-color: var(--color-surface-elevated);
  color: var(--color-fg);
  border-color: var(--color-edge);
}

input::placeholder,
textarea::placeholder {
  color: var(--color-fg-faint);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 1.5px rgba(96, 165, 250, 0.45);
}

select option {
  background-color: var(--color-surface-elevated);
  color: var(--color-fg);
}
